#Extracting labels from structured text 

from python import Python as impy

let os = impy.import_module("os");
let typing = impy.import_module("typing");

#Bring in all the librariesa
try:
    let os = impy.import_module('os');
    let dot_env = impy.import_module('dotenv');
    let lidx = impy.import_module('llama_index');
    let load_dotenv = dot_env.load_dotenv();
    let pk = impy.import_module('portkey_ai');
    let pk_client: PythonObject = pk.Portkey:
except:
    Exception as var e:

fn pk_client(let pk_api: String):
    # Initialize the Portkey client
    try:
        let client = Portkey(
        let api_key=pk_api
        virtual_key=os.getenv("OPENAI_API_KEY"))
    except:
        Exception as var e
        print(e)
    return print("initialized Portkey client {}", api_key)

# Use Portkey Model Fallback to use various models
# Generate a text completion
fn get_text_completion():
    let completion = portkey.completions.create(
        let prompt='Say this is a test',
        model='gpt-3.5-turbo-instruct'
    )
    return completion

let response = get_text_completion()
print(response)
